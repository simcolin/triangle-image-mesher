<!DOCTYPE html><html lang=en><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon"href=https://cdn-icons-png.flaticon.com/512/32/32915.png type=image/png><title>Triangle Image Mesher</title><meta name=description content="Just a website to make your image more ... triangular"><style>html{height:100%}body{margin:0;background:#333;color:#fff;font-family:Arial,Helvetica,sans-serif;display:flex;height:100%;overflow:hidden}*{box-sizing:border-box}nav{display:flex;flex-direction:column;align-items:center;flex-shrink:0;flex-basis:content;padding:1rem}label{margin-bottom:.2rem}input{background:none;border:2px solid #fff;color:inherit;padding:.5rem 1rem;appearance:none;outline:none;width:100%}input[type=number]{-moz-appearance:textfield}input::-webkit-outer-spin-button,input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.dropzone{width:100%;display:flex;align-items:center;justify-content:center;border:2px solid #fff;height:10rem;cursor:pointer;user-select:none}.dropzone:hover{background:rgba(255,255,255,.0666666667)}a{margin-top:auto;color:inherit}.mb-1rem{margin-bottom:1rem}button{outline:none;padding:.5rem 1rem;border:2px solid #fff;background:#fff;color:#222;cursor:pointer;width:100%}button:hover{background:transparent;color:#fff}button.disabled{border-color:#aaa;background:#aaa;cursor:no-drop}.canvas-ctn{flex-grow:1;flex-basis:auto;background:#222}canvas{width:100%;height:100%;object-fit:contain}.hidden{display:none}</style></head><body><nav><h2>Triangle Image Mesher</h2><p>Drop an image, see the result,<br>Play with values and press generate,<br>Download the result if you like it</p><label for=randomness-input>Image</label> <input class=hidden type=file accept=image/* id=image-input><div class="dropzone mb-1rem">Drag & drop or click here</div><label for=spacing-input>Spacing</label> <input type=number min=1 id=spacing-input class=mb-1rem> <label for=randomness-input>Randomness</label> <input type=number min=0 id=randomness-input class=mb-1rem> <button id=generate-button class=mb-1rem>Generate</button> <button id=download-button class="disabled mb-1rem">Download Result</button> <a href=https://github.com/simcolin/triangle-image-mesher target=blank>Github</a></nav><div class=canvas-ctn><canvas id=canvas></canvas></div><script>(()=>{const M=document.getElementById("image-input"),h=document.querySelector(".dropzone"),T=document.getElementById("canvas"),g=document.getElementById("spacing-input"),p=document.getElementById("randomness-input"),k=document.getElementById("generate-button"),I=document.getElementById("download-button"),e=T.getContext("2d");let u=20,y=10,x;g.value=u;p.value=y;g.onchange=()=>{u=g.value};p.onchange=()=>{y=p.value};k.onclick=R;I.onclick=E;h.onclick=()=>M.click();h.ondragover=t=>{t.preventDefault()};h.ondrop=t=>{t.preventDefault(),t.stopPropagation(),f=t.dataTransfer.items[0]?.getAsFile(),R()};let f;M.onchange=t=>{f=t.target.files[0],R()};function E(){if(!x)return;const t=URL.createObjectURL(x),n=document.createElement("a");n.download="convert.png",n.href=t,n.click(),n.remove()}function R(){if(!f)return;h.textContent=`${f.name} (${b(f.size)})`;const t=new FileReader;t.onload=()=>{const n=new Image;n.onload=()=>{F(n)},g.max=Math.min(n.naturalWidth,n.naturalHeight),p.max=g.max,n.src=t.result},t.readAsDataURL(f)}function F(t){e.canvas.width=t.naturalWidth,e.canvas.height=t.naturalHeight,e.drawImage(t,0,0),$(t.naturalWidth,t.naturalHeight)}async function $(t,n){const d=Math.ceil(t/u),s=Math.ceil(n/u),o=[],a=[];for(let r=0;r<d;++r){o[r]=[],a[r]=[];for(let l=0;l<s;++l){const c={x:Math.floor(r*u+(Math.random()-.5)*y),y:Math.floor(l*u+(Math.random()-.5)*y)};o[r][l]=c;const i=e.getImageData(c.x,c.y,1,1).data;a[r][l]=`#${w(i[0])}${w(i[1])}${w(i[2])}`}}D(o,a,d,s)}function m(t,n,d,s,o,a){const l=e.createRadialGradient(t.x,t.y,0,t.x,t.y,50);l.addColorStop(0,s+"ff"),l.addColorStop(1,s+"00");const c=e.createRadialGradient(n.x,n.y,0,n.x,n.y,50);c.addColorStop(0,o+"ff"),c.addColorStop(1,o+"00");const i=e.createRadialGradient(d.x,d.y,0,d.x,d.y,50);i.addColorStop(0,a+"ff"),i.addColorStop(1,a+"00"),e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.lineTo(d.x,d.y),e.closePath(),e.fillStyle="#000",e.fill(),e.globalCompositeOperation="lighter",e.fillStyle=l,e.fill(),e.fillStyle=c,e.fill(),e.fillStyle=i,e.fill(),e.globalCompositeOperation="source-over"}function D(t,n,d,s){for(let o=0;o<d-1;++o)for(let a=0;a<s-1;++a){const r=t[o][a],l=t[o+1][a],c=t[o][a+1],i=t[o+1][a+1],v=n[o][a],C=n[o+1][a],S=n[o][a+1],B=n[o+1][a+1];Math.random()>.5?(m(r,l,c,v,C,S),m(l,c,i,C,S,B)):(m(r,l,i,v,C,B),m(r,c,i,v,S,B))}T.toBlob(o=>{o&&(x=o,I.classList.remove("disabled"),I.textContent=`Download Result (${b(x.size)})`)})}function w(t){return t.toString(16).padStart(2,"0")}function b(t){return t<1024?t.toFixed(1)+" B":(t/=1024,t<1024?t.toFixed(1)+" kB":(t/=1024,t<1024?t.toFixed(1)+" MB":(t/=1024,t.toFixed(1)+" GB")))}})();</script></body></html>